### Оглавление:
1. [Соединение INNER JOIN](#Соединение-inner-join)
2. [Внешнее соединение LEFT и RIGHT OUTER JOIN](#Внешнее-соединение-left-и-right-outer-join)

Для объединения данных с нескольких таблиц используются **Join**'ы. Существует несколько форматов объединения данных: **Inner**, **Left**, **Right** и **Outer**. Принцип их работы представлен на фото ниже:

[![image.jpg](https://i.postimg.cc/5ygVsGfv/image.jpg)](https://postimg.cc/hQX6j2zP)

## Соединение INNER JOIN

Оператор внутреннего соединения **INNER JOIN** соединяет две таблицы. Порядок таблиц для оператора неважен, поскольку оператор является симметричным.
И используется, когда нам не важно какую таблицу с какой и в каком порядке соединять. Также важно понять, что **INNER JOIN** ползволяет взять лишь те данные, которые являются **общими** для соединяемых таблиц.

```SQL
SELECT
 ...
FROM
    таблица_1 INNER JOIN  таблица_2
    ON условие
...
```

Результат запроса формируется так:

каждая строка одной таблицы сопоставляется с каждой строкой второй таблицы;
для полученной «соединённой» строки проверяется условие соединения;
если условие истинно, в таблицу результата добавляется соответствующая «соединённая» строка;

**Пример**

Вывести название книг и их авторов.

*Запрос:*

```SQL
SELECT title, name_author
FROM 
    author INNER JOIN book
    ON author.author_id = book.author_id;
```

Поскольку поля **author_id** в таблицах **book** и **author** называются одинаково, необходимо в запросах указывать полную ссылку на них 
(**book.author_id** и **author.author_id**).

*Результат:*

| title                 | name_author      |
|-----------------------|------------------|
| Мастер и Маргарита    | Булгаков М.А.    |
| Белая гвардия         | Булгаков М.А.    |
| Идиот                 | Достоевский Ф.М. |
| Братья Карамазовы     | Достоевский Ф.М. |
| Игрок                 | Достоевский Ф.М. |
| Стихотворения и поэмы | Есенин С.А.      |
| Черный человек        | Есенин С.А.      |
| Лирика                | Пастернак Б.Л.   |

В данном запросе осуществляется соединение главной таблицы **author** и зависимой таблицы **book** по ключевому
столбцу **author.author_id** и внешнему ключу **book.author_id**. При этом в результирующую таблицу запроса включаются все
строки, в которых значения этих столбцов совпадают. Другими словами строки зависимой таблицы **book** дополняются фамилией и
инициалами авторов из таблицы **author**.

[:arrow_up:Оглавление](#Оглавление)

___
## Внешнее соединение LEFT и RIGHT OUTER JOIN
Оператор внешнего соединения **LEFT OUTER JOIN**  (можно использовать **LEFT JOIN**) соединяет две таблицы. Порядок таблиц для оператора важен, поскольку оператор не является симметричным.

```SQL
SELECT
 ...
FROM
    таблица_1 LEFT JOIN  таблица_2
    ON условие
...
```

Результат запроса формируется так:

в результат включается внутреннее соединение (**INNER JOIN**) первой и второй таблицы в соответствии с условием;
затем в результат добавляются те записи первой таблицы, которые не вошли во внутреннее соединение на шаге 1, для таких записей соответствующие поля второй таблицы заполняются значениями NULL.
Соединение **RIGHT JOIN** действует аналогично, только в пункте 2 первая таблица меняется на вторую и наоборот.

**Пример**

Вывести название всех книг каждого автора, если книг некоторых авторов в данный момент нет на складе – вместо названия книги указать Null.

*Запрос:*

```SQL
SELECT name_author, title 
FROM author LEFT JOIN book
     ON author.author_id = book.author_id
ORDER BY name_author;
```
     
*Результат:*


| name_author      | title                 |
|------------------|-----------------------|
| Булгаков М.А.    | Мастер и Маргарита    |
| Булгаков М.А.    | Белая гвардия         |
| Достоевский Ф.М. | Игрок                 |
| Достоевский Ф.М. | Идиот                 |
| Достоевский Ф.М. | Братья Карамазовы     |
| Есенин С.А.      | Стихотворения и поэмы |
| Есенин С.А.      | Черный человек        |
| Лермонтов М.Ю.   | NULL                  |
| Пастернак Б.Л.   | Лирика                |

Так как в таблице **book** нет книг Лермонтова, напротив этой фамилии стоит Null.

[:arrow_up:Оглавление](#Оглавление)

___
