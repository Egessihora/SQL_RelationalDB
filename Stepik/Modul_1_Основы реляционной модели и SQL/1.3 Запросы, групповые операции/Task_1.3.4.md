## TASK 1.3.4 [задание на stepik](https://stepik.org/lesson/297515/step/4?unit=279275)
Вывести фамилию и инициалы автора, минимальную, максимальную и среднюю цену книг каждого автора . 
Вычисляемые столбцы назвать Минимальная_цена, Максимальная_цена и Средняя_цена соответственно.

**Решение:**

```SQL
SELECT
    author,
    MIN(price) AS Минимальная_цена,
    MAX(price) AS Максимальная_цена,
    AVG(price) AS Средняя_цена
FROM book
GROUP BY author;
```

**Перевод на человеческий:**

```SQL
/*выбери
столбец author
посчитай минимальную цену книг каждого автора, назови новый результирующий столбец "Минимальная_цена"
посчитай максимальную цену книг каждого автора, назови новый результирующий столбец "Максимальная_цена"
посчитай среднюю цену книг каждого автора, назови новый результирующий столбец "Средняя_цена"*/
/*из таблицы book*/
/*сгруппируй по столбцу author*/
```

**Результат:**

```SQL
+------------------+------------------+-------------------+--------------+
| author           | Минимальная_цена | Максимальная_цена | Средняя_цена |
+------------------+------------------+-------------------+--------------+
| Булгаков М.А.    | 540.50           | 670.99            | 605.745000   |
| Достоевский Ф.М. | 460.00           | 799.01            | 579.836667   |
| Есенин С.А.      | 650.00           | 650.00            | 650.000000   |
+------------------+------------------+-------------------+--------------+
Affected rows: 3
```

**Пояснение:**

- для выполнения запроса нам прежде всего необходимо сделать группировку по столбцу **author** с помощью оператора ```GROUP BY```.
В результате этой группировки значения с одинаковыми ФИО автора объединятся в группы и в результирующем наборе мы получим 3 группы авторов.
С этим набором и будет уже работать оператор ```SELECT```
- группировка нам нужна была для того, чтобы ```SELECT``` смог уже производить различные вычисления с помощью агрегатных функций:
   - у столбца **author** мы никаких вычислений не запрашиваем, он у нас просто будет как есть в результирующей таблице
   - далее мы запрашиваем вычисления и результат задаём вывести в новых столбцах (которых ещё не было в таблице)
   - с помощью агрегатной функции ```MIN()``` мы находим минимальную цену книг (из всех) каждого автора, ноый результирующий столбец называем
  "Минимальная_цена"с помощью ключевого слова ```AS```
   - с помощью агрегатной функции ```MAX()``` мы находим максимальную цену книг каждого автора, ноый результирующий столбец называем
  "Максимальная_цена"с помощью ключевого слова ```AS```
   - с помощью агрегатной функции ```AVG()``` мы находим среднюю цену книг каждого автора, новый результирующий столбец называем
  "Средняя_цена"с помощью ключевого слова ```AS```

Данное задание не содержит в себе задачу на округление, но на практике конечно цены (как правило) округляются до двух знаков после запятой.
Для этого используется оператор ```ROUND```. 
Запрос будет выглядеть следующим образом (для данной задачи на **stepik** так делать не надо - результат не пройдёт):

**Решение:**

```SQL
SELECT
    author,
    MIN(price) AS Минимальная_цена,
    MAX(price) AS Максимальная_цена,
    ROUND(AVG(price), 2) AS Средняя_цена
FROM book
GROUP BY author;
```

**Результат:**

```SQL
+------------------+------------------+-------------------+--------------+
| author           | Минимальная_цена | Максимальная_цена | Средняя_цена |
+------------------+------------------+-------------------+--------------+
| Булгаков М.А.    | 540.50           | 670.99            | 605.75       |
| Достоевский Ф.М. | 460.00           | 799.01            | 579.84       |
| Есенин С.А.      | 650.00           | 650.00            | 650.00       |
+------------------+------------------+-------------------+--------------+
Affected rows: 3
```
