### Оглавление:
1. [Выборка всех данных из таблицы](#Выборка-всех-данных-из-таблицы)
2. [Выборка отдельных столбцов](#Выборка-отдельных-столбцов)
3. [Присвоение новых имен столбцам при формировании выборки](#Присвоение-новых-имен-столбцам-при-формировании-выборки)
4. [Выборка данных с созданием вычисляемого столбца](#Выборка-данных-с-созданием-вычисляемого-столбца)
5. [Выборка данных, вычисляемые столбцы, математические функции](#Выборка-данных-вычисляемые-столбцы-математические-функции)
6. [Выборка данных, вычисляемые столбцы, логические функции](#Выборка-данных-вычисляемые-столбцы-логические-функции)
7. [Выборка данных по условию](#Выборка-данных-по-условию)
8. [Выборка данных, логические операции](#Выборка-данных-логические-операции)
9. [Выборка данных, операторы BETWEEN, IN](#Выборка-данных-операторы-BETWEEN-IN)
10. [Выборка данных с сортировкой](#Выборка-данных-с-сортировкой)
   
## Выборка всех данных из таблицы

Оператор языка SQL **SELECT** - основная строительная конструкция для создания любого, простого или сложного запроса к базе данных. 

Без него, как и без фундамента для постройки, невозможно получить ни одну выборку данных из базы.


Запрос с оператором SELECT для выбора **всех** столбцов таблицы имеет следующий синтаксис:

```SQL
SELECT * FROM имя_таблицы;  /*для выбора всех столбцов таблицы после слова SELECT нужно ставить звёздочку*/
```

Используется SQL запрос следующей структуры: 
- ключевое слово SELECT; 
- символ « *» ; 
- ключевое слово FROM; 
- имя таблицы.

Результатом является таблица, в которую включены все строки и столбцы указанной в запросе таблицы.


**Пример**

Выбрать все записи таблицы **book**.

*Запрос*:

```SQL
SELECT * FROM book;             /* вывести всю информацию из таблицы book */
```

*Результат*:

[![6.png](https://i.postimg.cc/50NVMBzg/6.png)](https://postimg.cc/WDKKGJXq)

[:arrow_up:Оглавление](#Оглавление)

___
## Выборка отдельных столбцов

Для выбора определённых столбцов таблицы нам потребуется вместо звёздочки перечислить через запятую **названия всех столбцов, которые требуется выбрать**:

```SQL
SELECT выбираемые_столбцы FROM имя_таблицы;
```

Используется SQL запрос следующей структуры: 

- ключевое слово SELECT ; 
- список столбцов таблицы через запятую; 
- ключевое слово FROM ; 
- имя таблицы.


Результатом является таблица, в которую включены все данные из указанных после SELECT столбцов исходной таблицы.


**Пример**

Выбрать названия книг и их количества из таблицы **book** .

*Запрос*:

```SQL
SELECT title, amount FROM book;           /*выбрать title, amount из таблицы book*/
```

*Результат*:

|title                  | amount |
|-----------------------|--------| 
| Мастер и Маргарита    | 3      | 
| Белая гвардия         | 5      | 
| Идиот                 | 10     | 
| Братья Карамазовы     | 2      | 
| Стихотворения и поэмы | 15     |

Affected rows: 5

[:arrow_up:Оглавление](#Оглавление)
___
## Присвоение новых имен столбцам при формировании выборки

С помощью оператора **AS** можно отобрать данные из определенных столбцов таблицы и одновременно задать столбцам новые названия (псевдонимы) в результате выборки:

```SQL
SELECT выбираемый_столбец AS псевдоним
FROM имя_таблицы;
```

Используется SQL запрос следующей структуры: 

* ключевое слово SELECT ; 
* имя столбца;
* ключевое слово AS ; 
* новое название столбца (можно русскими буквами), выводимое в результате запроса, но это должно быть одно слово, если название состоит из двух слов – соединяйте их подчеркиванием, например, Количество_книг; 
* запятая; 
* имя столбца; 
.... 
* ключевое слово FROM ; 
* имя таблицы.


В одном запросе можно использовать и имена столбцов из таблицы, и новые названия.

Результатом является таблица, в которую включены все данные из указанных после SELECT столбцов исходной таблицы. Каждому столбцу в результате запроса присваивается новое имя, заданное после AS, или столбец получает имя столбца исходной таблицы, если AS отсутствует.


**Пример**

Выбрать все названия книг и их количество из таблицы **book** , для столбца **title** задать новое имя **Название**.

*Запрос*:

```SQL 
SELECT title AS Название, amount                /*выбрать title как Название, amount из таблицы book*/
FROM book;
```

*Результат*:

| Название              | amount |
|-----------------------|--------| 
| Мастер и Маргарита    | 3      |
| Белая гвардия         | 5      | 
| Идиот                 | 10     |
| Братья Карамазовы     | 2      |
| Стихотворения и поэмы | 15     |

Affected rows: 5

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных с созданием вычисляемого столбца

С помощью SQL запросов можно осуществлять вычисления по каждой строке таблицы с помощью вычисляемого столбца. Для него в списке полей после оператора **SELECT** указывается выражение и задается имя.

Выражение может включать имена столбцов, константы, знаки операций, встроенные функции.

Результатом является таблица, в которую включены все данные из указанных после **SELECT** столбцов, а также новый столбец, в каждой строке которого вычисляется заданное выражение.


**Пример**

Вывести всю информацию о книгах, а также для каждой позиции посчитать ее **стоимость** (произведение цены на количество). Вычисляемому столбцу дать имя **total**.


*Запрос*:

```SQL
SELECT title, author, price, amount,      /*выбрать title, author, price, amount,*/
       price * amount AS total            /*произведение цены на количество как total*/
FROM book;                                /*из таблицы bool*/
```

*Результат*: 


| title                 | author           | price  | amount | total   | 
|-----------------------|------------------|--------|--------|---------| 
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      | 2012.97 | 
| Белая гвардия         | Булгаков М.А.    | 540.50 | 5      | 2702.50 | 
| Идиот                 | Достоевский Ф.М. | 460.00 | 10     | 4600.00 | 
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 2      | 1598.02 | 
| Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     | 9750.00 |

Affected rows: 5

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных, вычисляемые столбцы, математические функции
В SQL реализовано множество  [математических функций](https://learn.microsoft.com/ru-ru/sql/t-sql/functions/mathematical-functions-transact-sql?view=sql-server-ver15) для работы с числовыми данными. В таблице приведены некоторые из них.

[![7.png](https://i.postimg.cc/kGvbFYR9/7.png)](https://postimg.cc/rRzsqJ9Y)

**Пояснение.**   Существуют разные способы округления чисел. В SQL реализовано математическое округление. Для округления вещественного числа нужно в записи числа выбрать разряд в дробной части, до которого производится округление. Цифра, записанная в выбранном разряде: не меняется, если следующая за ней справа цифра - 0, 1, 2, 3 или 4; увеличивается на единицу, если следующая за ней справа цифра - 5,6,7,8 или 9.


**Пример** 

Для каждой книги из таблицы **book** вычислим налог на добавленную стоимость (имя столбца **tax**) , который включен в цену и составляет k = 18%,  а также цену книги (**price_tax**) без него. Формулы для вычисления:

[![8.png](https://i.postimg.cc/Vs4fccw1/8.png)](https://postimg.cc/WtFLMCtf)

Эта формула НДС отвечает на вопрос "Какую сумму увеличили на 18%, чтобы получить текущее значение"


*Запрос*:

```SQL
SELECT title, price, 
       (price*18/100)/(1+18/100) AS tax, 
       price/(1+18/100) AS price_tax 
FROM book;
```

*Результат*:


| title                 | price  | tax            | price_tax  |
|-----------------------|--------|----------------|------------|
| Мастер и Маргарита    | 670.99 | 102.3544067797 | 568.635593 |
| Белая гвардия         | 540.50 | 82.4491525424  | 458.050847 |
| Идиот                 | 460.00 | 70.1694915254  | 389.830508 |
| Братья Карамазовы     | 799.01 | 121.8828813559 | 677.127119 |
| Стихотворения и поэмы | 650.00 | 99.1525423729  | 550.847458 |

Affected rows: 5


Сумма налога и цена книги без налога – это деньги, поэтому количество знаков после запятой у этих чисел должно быть 2. Следовательно необходимо округлить полученные значения.


*Запрос*:

```SQL
SELECT title, 
       price, 
       ROUND((price*18/100)/(1+18/100),2) AS tax, 
       ROUND(price/(1+18/100),2) AS price_tax 
FROM book;
```

*Результат*:

| title                 | price  | tax    | price_tax |
|-----------------------|--------|--------|-----------|
| Мастер и Маргарита    | 670.99 | 102.35 | 568.64    |
| Белая гвардия         | 540.50 | 82.45  | 458.05    |
| Идиот                 | 460.00 | 70.17  | 389.83    |
| Братья Карамазовы     | 799.01 | 121.88 | 677.13    |
| Стихотворения и поэмы | 650.00 | 99.15  | 550.85    |

Affected rows: 5

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных, вычисляемые столбцы, логические функции

В SQL реализована возможность заносить в поле значение в зависимости от условия. Для этого используется функция **IF()**:

**IF(логическое_выражение, выражение_1, выражение_2)**

Функция вычисляет логическое_выражение, если оно **истина** – в поле заносится значение **выражения_1**, в противном случае –  значение **выражения_2**. Все три параметра **IF()** являются обязательными.

Допускается использование вложенных функций, вместо **выражения_1** или **выражения_2** может стоять новая **функция IF**.


**Пример**: 

Для каждой книги из таблицы **book** установим скидку следующим образом: если количество книг **меньше 4**, то скидка будет составлять **50% от цены**, в противном случае - **30%**.

*Запрос*:

```SQL
SELECT title, amount, price,                          /*выбрать title, amount, price*/
       IF(amount < 4, price*0.5, price*0.7) AS sale   /*если amount < 4, умножить цену на 0.5, иначе - умножить цену на 0.5*/
FROM book;                                            /*из таблицы book*/
```


*Результат*:

| title                 | amount | price  | sale    |
|-----------------------|--------|--------|---------|
| Мастер и Маргарита    | 3      | 670.99 | 335.495 |
| Белая гвардия         | 5      | 540.50 | 378.350 |
| Идиот                 | 10     | 460.00 | 322.000 |
| Братья Карамазовы     | 2      | 799.01 | 399.505 |
| Стихотворения и поэмы | 15     | 650.00 | 455.000 |

Affected rows: 5


Цена по скидке должна отображаться с двумя знаками после запятой, добавим в запрос округление:

```SQL
SELECT title, amount, price,                                    /*выбрать title, amount, price*/
       ROUND(IF(amount < 4, price*0.5, price*0.7), 2) AS sale   /*округлить результат в скобках, оставить 2 знака после запятой*/
FROM book;                                                      /*из таблицы book*/
```


*Результат*:

| title                 | amount | price  | sale   |
|-----------------------|--------|--------|--------|
| Мастер и Маргарита    | 3      | 670.99 | 335.50 |
| Белая гвардия         | 5      | 540.50 | 378.35 |
| Идиот                 | 10     | 460.00 | 322.00 |
| Братья Карамазовы     | 2      | 799.01 | 399.51 |
| Стихотворения и поэмы | 15     | 650.00 | 455.00 |

Affected rows: 5


**Пример**

Усложним вычисление скидки в зависимости от количества книг. Если количество книг меньше 4 – то скидка 50%, меньше 11 – 30%, в остальных случаях – 10%. И еще укажем **какая именно** скидка на каждую книгу.


*Запрос*:

```SQL
SELECT title, amount, price,                                                                      /*выбрать title, amount, price*/
       ROUND(IF(amount < 4, price * 0.5, IF(amount < 11, price * 0.7, price * 0.9)), 2) AS sale,  /*в этой строке мы вычисляем, округляем скидку и прописываем название столбца*/
       IF(amount < 4, 'скидка 50%',                                                               /*в этой строке формируем новый столбец с указанием размера скидки*/
          IF(amount < 11, 'скидка 30%', 'скидка 10%')) AS Ваша_скидка
FROM book;                                                                                        /*Из таблицы book*/
```

**Пояснение к вычислениям скидки**:
- Если количество книг (amount) < 4, применяем скидку 50%, соответственно price * 0.5
- Далее часть "иначе" делится на два сценария:
  * если количество книг (amount) < 11, применяем скидку 30%, соответственно price * 0.7
  * иначе - применяем скидку 10%, соответственно price * 0.9
- округляем полученный результат до 2-х знаков после запятой с помощью оператора ROUND(), не забываем посчитать все скобки
- присваиваем с помощью оператора AS название столбцу - sale

**Пояснение к новому столбцу со скидками**:
- Нам нужно в результируещей таблице получить 5 столбцов:
  * title, amount, price мы просто перечисляем как есть через запятую
  * далее через запятую указываем новый столбец **sale**, который у нас получается с помощью оператора IF() и вычислений
  * и также нам надо через запятую указать новый столбец **Ваша_скидка**, который тоже получим с использованием оператора IF()
- Если количество книг (amount) < 4, пишем в результат - 'скидка 50%', иначе снова проверяем:
  * если если количество книг (amount) < 11, пишем 'скидка 30%'
  * иначе - пишем 'скидка 10%'
- Присваиваем новому столбцу название Ваша_скидка (название столбцов, а также таблиц и баз данных пишется без кавычек)


*Результат*:

| title                 | amount | price  | sale   | Ваша_скидка |
|-----------------------|--------|--------|--------|-------------|
| Мастер и Маргарита    | 3      | 670.99 | 335.50 | скидка 50%  |
| Белая гвардия         | 5      | 540.50 | 378.35 | скидка 30%  |
| Идиот                 | 10     | 460.00 | 322.00 | скидка 30%  |
| Братья Карамазовы     | 2      | 799.01 | 399.51 | скидка 50%  |
| Стихотворения и поэмы | 15     | 650.00 | 585.00 | скидка 10%  |

Affected rows: 5

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных по условию

С помощью запросов можно включать в итоговую выборку не все строки исходной таблицы, а только те, которые отвечают некоторому условию. Для этого после указания таблицы, откуда выбираются данные, задается ключевое слово **WHERE** и логическое выражение, от результата которого зависит будет ли включена строка в выборку или нет. Если условие – **истина**, то строка(запись) включается в выборку, если **ложь** – нет.

Логическое выражение может включать операторы сравнения (равно «=», не равно «<>», больше «>», меньше «<», больше или равно«>=», меньше или равно «<=») и выражения, допустимые в SQL.

**SELECT** column_name

**FROM** table_name

**WHERE** column_name **условие**

**Пример**

Вывести название и цену тех книг, цены которых меньше 600 рублей.

*Запрос*:

```SQL
SELECT title, price    /*выбери столбцы title, price*/
FROM book              /*из таблицы book*/
WHERE price < 600;     /*выбери только те строки, где цена(price) меньше 600*/
```

*Результат*:

| title         | price  |
|---------------|--------|
| Белая гвардия | 540.50 |
| Идиот         | 460.00 |

Affected rows: 2

**Пример**

Вывести название, автора  и стоимость (цена умножить на количество) тех книг, стоимость которых больше 4000 рублей

*Запрос*:

```SQL
SELECT title, author, price * amount AS total    /*выбери столбцы title, author, умножь цену(price) на количество(amount) и назови новый столбец как total*/
FROM book                                        /*из таблицы book*/
WHERE price * amount > 4000;                     /*выбери только те строки, где результат цены(price), умноженной на количество(amount) больше 4000*/
```

**Пояснение:**
В логическом выражении после **WHERE** нельзя использовать названия столбцов, присвоенные им с помощью **AS**,  так как при выполнении запроса сначала вычисляется логическое выражение для каждой строки исходной таблицы, выбираются строки, для которых оно истинно. А только после этого формируется "шапка запроса" – столбцы, включаемые в запрос.

*Результат*:

| title                 | author           | total   |
|-----------------------|------------------|---------|
| Идиот                 | Достоевский Ф.М. | 4600.00 |
| Стихотворения и поэмы | Есенин С.А.      | 9750.00 |

Affected rows: 2

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных, логические операции
Логическое выражение после ключевого слова **WHERE** кроме операторов сравнения и выражений может включать логические операции (**И «and», ИЛИ «or», НЕ «not»**) и **круглые скобки**, изменяющие **приоритеты** выполнения операций.

**Приоритеты операций**:
- круглые скобки
- умножение  (*),  деление (/)
- сложение  (+), вычитание (-)
- операторы сравнения (=, >, <, >=, <=, <>)
- NOT
- AND
- OR
  
**Пример**

Вывести название, автора и цену тех книг, которые написал Булгаков, ценой больше 600 рублей

*Запрос*:

```SQL
SELECT title, author, price                        /*выбери столбцы title, author, price*/
FROM book                                          /*из таблицы book*/
WHERE price > 600 AND author = 'Булгаков М.А.';    /*выбери только те строки, в которых удовлетворяются оба условия: price больше 600 И author = 'Булгаков М.А.'*/
```

*Результат*:
| title              | author        | price  |
|--------------------|---------------|--------|
| Мастер и Маргарита | Булгаков М.А. | 670.99 |

Affected rows: 1

**Пример**

Вывести название, цену  тех книг, которые написал Булгаков или Есенин, ценой больше 600 рублей

*Запрос*:

```SQL
SELECT title, author, price          /*выбери столбцы title, author, price*/
FROM book                            /*из таблицы book*/
/*выбери только те строки, в которых удовлетворяются оба условия: (author = 'Булгаков М.А.' ИЛИ author = 'Есенин С.А.') И price больше 600*/
WHERE (author = 'Булгаков М.А.' OR author = 'Есенин С.А.') AND price > 600;
```

**Пояснение**:

В данном запросе обязательно нужно поставить скобки, так как без них сначала вычисляется  author = 'Есенин С.А.' and price > 600, а потом уже выражение через or. Без скобок были бы отобраны все книги Булгакова и те книги Есенина, цена которых больше 600.

*Результат*:
| title                 | author        | price  |
|-----------------------|---------------|--------|
| Мастер и Маргарита    | Булгаков М.А. | 670.99 |
| Стихотворения и поэмы | Есенин С.А.   | 650.00 |

Affected rows: 2

**Вариант без скобок для сравнения**:

*Запрос*:

```SQL
SELECT title, author, price     /*выбери столбцы title, author, price*/
FROM book                       /*из таблицы book*/
/*выбери только те строки, в которых (удовлетворяются условия: author = 'Есенин С.А.' И price больше 600) ИЛИ author = 'Булгаков М.А.'*/
WHERE author = 'Булгаков М.А.' OR author = 'Есенин С.А.' AND price > 600;
```

*Результат (сравните с предыдущим)*:

| title                 | author        | price  |
|-----------------------|---------------|--------|
| Мастер и Маргарита    | Булгаков М.А. | 670.99 |
| Белая гвардия         | Булгаков М.А. | 540.50 |
| Стихотворения и поэмы | Есенин С.А.   | 650.00 |

Affected rows: 3

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных, операторы BETWEEN, IN
Логическое выражение после ключевого слова **WHERE** может включать операторы **BETWEEN** и **IN**. Приоритет  у этих операторов такой же как у операторов сравнения, то есть они выполняются раньше, чем **NOT, AND, OR**.

### Оператор BETWEEN 
Позволяет отобрать данные, относящиеся к некоторому интервалу, **включая** его границы.

**Пример**

Выбрать названия и количества тех книг, количество которых от 5 до 14 включительно.

*Запрос*:

```SQL
SELECT title, amount                /*выбери столбцы title, amount*/
FROM book                           /*из таблицы book*/
WHERE amount BETWEEN 5 AND 14;      /*выбери только те строки, где количество(amount) находится в интервале между 5 и 14 включительно*/
```

*Результат*:

| title         | amount |
|---------------|--------|
| Белая гвардия | 5      |
| Идиот         | 10     |

Affected rows: 2

Этот запрос можно реализовать по-другому, результат будет точно такой же.

```SQL                                 
SELECT title, amount                       /*выбери столбцы title, amount*/
FROM book                                  /*из таблицы book*/
WHERE amount >= 5 AND amount <=14;         /*выбери только те строки, где количество(amount) больше или равно 5 И меньше или равно 14*/
```

### Оператор  IN  
Позволяет выбрать данные, соответствующие значениям из **списка**.

**Пример**

Выбрать названия и цены книг, написанных Булгаковым или Достоевским.

*Запрос*:

```SQL
SELECT title, price                                            /*выбери столбцы title, amount*/
FROM book                                                      /*из таблицы book*/
WHERE author IN ('Булгаков М.А.', 'Достоевский Ф.М.');         /*выбери только те строки, где автор(author) входит в список: 'Булгаков М.А.', 'Достоевский Ф.М.'*/
```

*Результат*:
| title              | price  |
|--------------------|--------|
| Мастер и Маргарита | 670.99 |
| Белая гвардия      | 540.50 |
| Идиот              | 460.00 |
| Братья Карамазовы  | 799.01 |

Affected rows: 4

Этот запрос можно реализовать по-другому, результат будет точно такой же.

```SQL
SELECT title, price                                                 /*выбери столбцы title, amount*/
FROM book                                                           /*из таблицы book*/
WHERE author = 'Булгаков М.А.' OR author = 'Достоевский Ф.М.';      /*выбери только те строки, где author = автор(author) ИЛИ author = 'Достоевский Ф.М.'*/
```

[:arrow_up:Оглавление](#Оглавление)
___
## Выборка данных с сортировкой
При выборке можно указывать столбец или несколько столбцов, по которым необходимо отсортировать отобранные строки. 

Для этого используются ключевые слова **ORDER BY**, после которых задаются имена столбцов. При этом строки сортируются по первому столбцу, если указан второй столбец, сортировка осуществляется только для тех строк, у которых значения первого столбца одинаковы. 

По умолчанию **ORDER BY** выполняет сортировку по возрастанию. Чтобы управлять направлением сортировки вручную, после имени столбца указывается ключевое слово **ASC** (по возрастанию) или **DESC** (по убыванию).

SELECT выбираемый_столбец
FROM название_таблицы
ORDER BY столбец_для_сортировки

Столбцы после ключевого слова ORDER BY можно задавать:
- названием столбца;
- номером столбца;
- именем столбца (указанным после AS).

**Пример**

Вывести название, автора и цены книг. Информацию  отсортировать по названиям книг в **алфавитном порядке**.

*Запрос*:

```SQL
SELECT title, author, price              /*выбери столбцы title, author, price*/
FROM book                                /*из таблицы book*/
ORDER BY title;                          /*отсортируй по столбцу title в алфавитном порядке*/
```

*Результат*:

| title                 | author           | price  |
|-----------------------|------------------|--------|
| Белая гвардия         | Булгаков М.А.    | 540.50 |
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 |
| Идиот                 | Достоевский Ф.М. | 460.00 |
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 |
| Стихотворения и поэмы | Есенин С.А.      | 650.00 |

Affected rows: 5

Аналогичный результат получится при использовании запроса:

```SQL
SELECT title, author, price                 /*выбери столбцы title, author, price*/
FROM book                                   /*из таблицы book*/
ORDER BY 1;                                 /*отсортируй по столбцу столбцу №1 в алфавитном порядке*/
```

**Пример**

Вывести автора, название и количество книг, в отсортированном в **алфавитном порядке по автору** и **по убыванию количества**, для тех книг, цены которых меньше 750 рублей.

*Запрос*:

```SQL 
SELECT author, title, amount AS Количество                 /*выбери столбцы author, title, amount, столбец amount отобрази как Количество*/
FROM book                                                  /*из таблицы book*/
WHERE price < 750                                          /*выбери только те строки, где price меньше 750*/
ORDER BY author, amount DESC;                              /*отсортируй сначала по автору в алфавитном порядке, затем по количеству в порядке убывания*/
```

*Результат*:

| author           | title                 | Количество |
+------------------+-----------------------+------------+
| Булгаков М.А.    | Белая гвардия         | 5          |
| Булгаков М.А.    | Мастер и Маргарита    | 3          |
| Достоевский Ф.М. | Идиот                 | 10         |
| Есенин С.А.      | Стихотворения и поэмы | 15         |

Affected rows: 4

Можно использовать другие варианты записи запроса:

```SQL
SELECT author, title, amount AS Количество
FROM book
WHERE price < 750
ORDER BY author, Количество DESC;
```
```SQL
SELECT author, title, amount AS Количество
FROM book
WHERE price < 750
ORDER BY 1, 3 DESC;
```

**Важно! Если названия столбцов заключены в кавычки, то при использовании их в сортировке, необходимо записывать их БЕЗ КАВЫЧЕК.**

[:arrow_up:Оглавление](#Оглавление)
